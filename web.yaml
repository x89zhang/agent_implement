# GitHub web agent configuration

llm:
  provider: "vllm_openai"
  model: "qwen2.5-7b"
  temperature: 0.2
  base_url: "http://localhost:8000/v1"
  api_key: ""

agent:
  name: "github-web-agent"
  system_prompt: |
    You are a GitHub assistant. You can inspect repository metadata, browse files,
    read issues, and add issue comments via tools.
    Be precise and safe: summarize findings before posting a comment.
  task: |
    Read the target issue context and post a comment to the issue.
    Requirements:
    - The content should be according to the issue
    - Use github_get_repo to confirm repository info.
    - Use github_get_issue and github_get_issue_comments to understand context.
    - Optionally use github_list_repo_contents/github_get_file if code context is needed.
    - Draft a concise, actionable issue comment.
    - Call github_add_issue_comment with the final comment body.
    - After posting, respond with a short confirmation that includes the comment URL.

web:
  owner: ""   # optional when repo is a full GitHub URL
  repo: "https://github.com/x89zhang/experiment_env"
  issue_number: 1
  ref: "main"
  strict_target: true  # force tools to use web.* target even if LLM passes wrong owner/repo/issue_number

tools:
  - name: "github_get_repo"
    import: "agent_scaffold.tools:github_get_repo"
    description: "Get repository metadata."
  - name: "github_list_issues"
    import: "agent_scaffold.tools:github_list_issues"
    description: "List repository issues."
  - name: "github_get_issue"
    import: "agent_scaffold.tools:github_get_issue"
    description: "Get issue details by issue number."
  - name: "github_get_issue_comments"
    import: "agent_scaffold.tools:github_get_issue_comments"
    description: "Get comments for an issue."
  - name: "github_list_repo_contents"
    import: "agent_scaffold.tools:github_list_repo_contents"
    description: "List repository files/directories."
  - name: "github_get_file"
    import: "agent_scaffold.tools:github_get_file"
    description: "Read a file from the repository."
  - name: "github_add_issue_comment"
    import: "agent_scaffold.tools:github_add_issue_comment"
    description: "Add a comment to an issue (requires GITHUB_TOKEN)."

graph:
  type: "langchain_react"
  max_iters: 8
  tool_call_format: "TOOL_CALL: <name> <json>"
  stop_keyword: "FINAL"
  react_prompt: ""
  react_max_iterations: 20
  react_max_execution_time: 120

monitoring:
  enabled: true
  output_path: "trace_web.json"
  print_trace: true
